    <!-- Panel Start -->
    <section class="home">
  <div class="container my-auto">
    <div class="row">
      <div class="col-10 home-form">
        <div class="form-text">
          <p>
            Playlist
          </p>
        </div>
        <% if(typeof status !='undefined' && status==true){ %>

          <div class="container" style="padding: 0;">
              <div class="alert alert-success alert-dismissible fade show" role="alert" style="display: flex; justify-content: space-between;" id="successAlert">
                  İşlem Başarılı Bir Şekilde Gerçekleştirilmiştir
                  <button type="button" class="btn-close" aria-label="Close" style="outline: none; border: none; background: transparent;" onclick="closeAlert()">
                    <span aria-hidden="true">×</span>
                  </button>
                </div>
              </div>
              <input type="hidden" name="status" value=<%=status%> id='playlistStatus'>
              <% } %>
              <% if(typeof status !='undefined' && status==false){ %>
                
          <div class="container" style="padding: 0;">
              <div class="alert alert-danger alert-dismissible fade show" role="alert" style="display: flex; justify-content: space-between;" id="successAlert">
                İşlem Gerçekleştirilemedi
                  <button type="button" class="btn-close" aria-label="Close" style="outline: none; border: none; background: transparent;" onclick="closeAlert()">
                      <span aria-hidden="true">×</span>
                  </button>
              </div>
          </div>
              <% } %>
        <table class="form-table table table-borderless">
          <thead>
            <tr>
              <th scope="col">Playlist İsmi</th>
              <th scope="col" style="float:right">
                  <a href="/admin/addPlaylist/<%= admin.cafe == 'admin' ? admin.tempCafe : admin.cafe %>">
                    <button style="width: 100px" class="btn btn-outline-primary">Playlist Ekle</button></th>
                  </a>
            </tr>
          </thead>
          <tbody>
          
            <tr>
            <% for(var i = 0; i < fetch.length; i++){%>
              <td><%= fetch[i].playlistName %></td>
              <td style="float:right">
                <span id="<%= fetch[i]._id %>">
                  <input type="hidden" name="id" value="<%= fetch[i]._id %>">
                      <button name="deletePlaylist" data-action="deletePlaylist" id="deleteBtn" class="deleteBtn btn btn-outline-danger">Sil</button>
                  </span>
              </td>
              <td style="float:right"><a target='_blank' href="<%= fetch[i].link %>"><button class="btn btn-outline-warning">Aç</button></a></td>
            </tr>
            <% } %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</section>
    <!-- Panel End -->

    <script>
      // Select all delete buttons by class name
  const deleteButtons = document.querySelectorAll(".deleteBtn");
  
  // Attach a click event handler to each delete button
  deleteButtons.forEach((deleteBtn) => {
      deleteBtn.addEventListener("click", function () {
          const parentSpan = deleteBtn.parentElement;
          const id = parentSpan.querySelector('[name="id"]').value;
  
          Swal.fire({
              title: 'Emin misin?',
              text: "Bu işlem geri alınamaz!",
              icon: 'warning',
              showCancelButton: true,
              confirmButtonColor: '#d33',
              cancelButtonColor: '#3085d6',
              confirmButtonText: 'Evet!',
              cancelButtonText: 'Hayır'
          }).then((result) => {
              if (result.isConfirmed) {
                  const form = document.createElement('form');
                  form.method = 'POST';
                  form.action = '/admin/playlist/<%= admin.cafe == "admin" ? admin.tempCafe : admin.cafe %>';
  
                  // Create hidden input for id
                  const idInput = document.createElement('input');
                  idInput.type = 'hidden';
                  idInput.name = 'id';
                  idInput.value = id;
  
                  // Create deleteContent button as an input
                  const deleteContentButton = document.createElement('input');
                  deleteContentButton.type = 'text';
                  deleteContentButton.name = 'deletePlaylist';
                  deleteContentButton.value = 'deletePlaylist';
  
  
                  form.appendChild(deleteContentButton);
                  form.appendChild(idInput);
                  document.body.appendChild(form);
  
                  // Submit the form
                  form.submit();
              }
          });
      });
  });
  
  function closeAlert() {
        var successAlert = document.getElementById('successAlert');
        successAlert.style.display = 'none';
    }
  
  </script>